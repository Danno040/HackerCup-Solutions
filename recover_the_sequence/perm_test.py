import math

combos = ['12342' , '12345' , '12352' , '12354' , '12432' , '12435' , '12452' , '12453' , '12532' , '12534' , '12542' , '12543' , '13243' , '13245' , '13253' , '13254' , '13423' , '13425' , '13452' , '13453' , '13523' , '13524' , '13542' , '13543' , '14234' , '14235' , '14253' , '14254' , '14324' , '14325' , '14352' , '14354' , '14523' , '14524' , '14532' , '14534' , '15234' , '15235' , '15243' , '15245' , '15324' , '15325' , '15342' , '15345' , '15423' , '15425' , '15432' , '15435' , '21341' , '21345' , '21351' , '21354' , '21431' , '21435' , '21451' , '21453' , '21531' , '21534' , '21541' , '21543' , '23143' , '23145' , '23153' , '23154' , '23413' , '23415' , '23451' , '23453' , '23513' , '23514' , '23541' , '23543' , '24134' , '24135' , '24153' , '24154' , '24314' , '24315' , '24351' , '24354' , '24513' , '24514' , '24531' , '24534' , '25134' , '25135' , '25143' , '25145' , '25314' , '25315' , '25341' , '25345' , '25413' , '25415' , '25431' , '25435' , '31241' , '31245' , '31251' , '31254' , '31421' , '31425' , '31451' , '31452' , '31521' , '31524' , '31541' , '31542' , '32142' , '32145' , '32152' , '32154' , '32412' , '32415' , '32451' , '32452' , '32512' , '32514' , '32541' , '32542' , '34124' , '34125' , '34152' , '34154' , '34214' , '34215' , '34251' , '34254' , '34512' , '34514' , '34521' , '34524' , '35124' , '35125' , '35142' , '35145' , '35214' , '35215' , '35241' , '35245' , '35412' , '35415' , '35421' , '35425' , '41231' , '41235' , '41251' , '41253' , '41321' , '41325' , '41351' , '41352' , '41521' , '41523' , '41531' , '41532' , '42132' , '42135' , '42152' , '42153' , '42312' , '42315' , '42351' , '42352' , '42512' , '42513' , '42531' , '42532' , '43123' , '43125' , '43152' , '43153' , '43213' , '43215' , '43251' , '43253' , '43512' , '43513' , '43521' , '43523' , '45123' , '45125' , '45132' , '45135' , '45213' , '45215' , '45231' , '45235' , '45312' , '45315' , '45321' , '45325' , '51231' , '51234' , '51241' , '51243' , '51321' , '51324' , '51341' , '51342' , '51421' , '51423' , '51431' , '51432' , '52132' , '52134' , '52142' , '52143' , '52312' , '52314' , '52341' , '52342' , '52412' , '52413' , '52431' , '52432' , '53123' , '53124' , '53142' , '53143' , '53213' , '53214' , '53241' , '53243' , '53412' , '53413' , '53421' , '53423' , '54123' , '54124' , '54132' , '54134' , '54213' , '54214' , '54231' , '54234' , '54312' , '54314' , '54321' , '54324']

class Merger:
    def __init__(self):
        self.step = 0
        self.broke_early = False
        self.what_we_are_looking_for = '1122211'
        self.output = ''

    def given_merge_sort(self, arr):
        n = len(arr)
        if n <= 1:
            return arr
        
        mid = int(math.floor(n/2))
        first_half = self.given_merge_sort(arr[0:mid])
        second_half = self.given_merge_sort(arr[mid:])
        return self.given_merge(first_half, second_half)
        
    def given_merge(self,arr1, arr2):
        result = []
        while len(arr1) > 0 and len(arr2) > 0:
            if arr1[0] < arr2[0]:
                #print 1
                self.output += '1'
                result.append(arr1[0])
                arr1.pop(0)
            else:
                #print 2
                self.output += '2'
                result.append(arr2[0])
                arr2.pop(0)
            self.step += 1
        
        result += arr1
        result += arr2
        return result
    
for sequence in combos:
    actual_list = list(sequence)
    for i in range(len(actual_list)):
        actual_list[i] = int(actual_list[i])
    m = Merger()
    m.given_merge_sort(actual_list)
    if m.output == m.what_we_are_looking_for:
        print "THE MAGIC ONE:", actual_list
    